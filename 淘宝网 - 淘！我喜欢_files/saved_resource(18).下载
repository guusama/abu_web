define("kg/offline/6.0.4/index",["json","util","base","ua"],function(e,t,n){var i,r,a,s=e("json"),u=e("util"),o=e("base"),l=e("ua");i=function(e){var t,n,i=s,r=u,a={},o="DEADLINE-KEY";return r.mix(a,{init:function(){var e,r,a=(new Date).getTime();t=localStorage,n=i.parse(t.getItem(o))||{};for(var s in n)n.hasOwnProperty(s)&&(e=parseInt(n[s],10),r=e-a,0>=r?(this.removeItem(s),delete n[s],this._saveDeadLine()):this._deadlineKey(s,r));return this},setItem:function(e,i,r){if(r){var a=parseInt(r,10),s=(new Date).getTime();n[e]=a+s,this._deadlineKey(e,a),this._saveDeadLine()}return t.setItem(e,i),!0},getItem:function(e){return t.getItem(e)},removeItem:function(e){return t.removeItem(e),delete n[e],this._saveDeadLine(),!this.getItem(e)},clear:function(){return t.clear(),0===this.size()},size:function(){var e=t.length;return t[o]?e-1:e},getAll:function(e){for(var n,r=t.length,a={},s=0;r>s;s++)n=t.key(s),a[n]=t.getItem(n),n===o&&delete a[n];return e?a:i.stringify(a)},timeRemain:function(e){return t[e]?e in n?n[e]-(new Date).getTime():-1:0},usedByte:function(){var e=this.getAll().length;return t[o]&&(e+=i.stringify(n).length,e+=o.length),e},_deadlineKey:function(e,i){var a=this;r.later(function(){t.removeItem(e),delete n[e],a._saveDeadLine()},i)},_saveDeadLine:function(){t.setItem(o,i.stringify(n))}}),e=a}(),r=function(e){var t,n,i,r=s,a=u,o={},l=document,f=(new Date).getTime(),m="IE-OFFLINE",c="IE-SINGLE-KEY",g="TIME-DEADLINE";return a.mix(o,{init:function(){return t=l.createElement("link"),t.addBehavior&&(t.style.behavior="url(#default#userData)",l.getElementsByTagName("head")[0].appendChild(t)),t.load(m),n=r.parse(t.getAttribute(c))||{},i=r.parse(t.getAttribute(g))||{},this._initDeadline(),this},_initDeadline:function(){var e,t;for(var n in i)i.hasOwnProperty(n)&&(e=parseInt(i[n],10),t=e-f,0>=t?this.removeItem(n):this._deadlineKey(n,t))},setItem:function(e,t,r){if(n[e]=t,r){var a=parseInt(r,10),s=(new Date).getTime();i[e]=a+s,this._deadlineKey(e,a)}return this._saveToBrowser()},getItem:function(e){return n[e]},removeItem:function(e){return delete n[e],delete i[e],this._saveToBrowser()},clear:function(){return n={},i={},this._saveToBrowser()},size:function(){var e=0;for(var t in n)n.hasOwnProperty(t)&&e++;return e},timeRemain:function(e){return e in n?e in i?i[e]-(new Date).getTime():-1:0},usedByte:function(){var e=0,t=r.stringify(i);return""!==i&&(e+=t.length+g.length),e+=r.stringify(n).length},getAll:function(e){return e?n:r.stringify(n)},_deadlineKey:function(e,t){var n=this;a.later(function(){n.removeItem(e)},t)},_saveToBrowser:function(){var e=!0;try{t.setAttribute(g,r.stringify(i)),t.setAttribute(c,r.stringify(n)),t.save(m)}catch(a){e=!1}return e}}),e=o}(),a=function(e){function t(){t.superclass.constructor.call(this)}var n=i,a=r,s=o,f=l,m=u,c="undefined"!=typeof window.localStorage?n:f.ie<8?a:null;return c.init(),m.extend(t,s,{setItem:function(e,t,n){var i=parseInt(n,10);return m.isString(e)&&m.isString(t)&&""!==m.trim(e)?(m.Offline.fire("setItem",{key:e,value:t,deadline:n}),c.setItem(e,t,i)):(m.error("Format error"),!1)},getItem:function(e){return m.isString(e)?c.getItem(e):(m.error("Need String"),null)},removeItem:function(e){return m.isString(e)?(m.Offline.fire("removeItem",{key:e}),c.removeItem(e)):(m.error("Need String"),!1)},clear:function(){return m.Offline.fire("clear"),c.clear()},getAll:function(e){return c.getAll(e)},size:function(){return c.size()},timeRemain:function(e){return m.isString(e)?c.timeRemain(e):(m.error("Need String"),!1)},usedByte:function(){return c.usedByte()}}),m.Offline=new t,e=t}(),n.exports=a});define("kg/placeholder/6.0.0/index",["node","dom","util","base"],function(e,t,i){var n,s=e("node"),o=e("dom"),a=e("util"),l=e("base");n=function(e){"use strict";function t(){t.superclass.constructor.apply(this,arguments),this._init()}var i=s,n=o,h=a,r=l,d="placeholder"in document.createElement("input"),p=i;if(!d&&!p.prototype.__val){var c=p.prototype;c.__val=c.val,h.mix(c,{val:function(e){if(void 0===e)return this.__val();var t=this.val();return this.__val(e),this.fire&&this.fire("valchange",{newVal:e,preVal:t}),this}})}return t.ATTRS={node:{value:null},labelTmpl:{value:'<label class="placeholder-text" style="display: none;color:#9a9a9a;position:absolute;left:0;top:0;">&nbsp;</label>'},wapperTmpl:{value:'<span class="placeholder-wrap" style="position:relative;display:inline-block;zoom:1;"></span>'},wapperNode:{value:null,setter:function(e){return e instanceof p?e:i.one(e)}},region:{top:0,left:0,width:120,height:20}},h.extend(t,r,{_init:function(){this.node=this.get("node"),this.node instanceof p||(this.node=i.one(this.node)),!d&&this.node.hasAttr("placeholder")&&(this.renderUI(),this.bindUI(),this.check())},renderUI:function(){var e=!!this.get("wapperNode"),t=e?this.get("wapperNode"):i.one(n.create(this.get("wapperTmpl"))),s=this.node,o=i.one(n.create(this.get("labelTmpl"))),a=s.attr("id");a||(a=h.guid("J_K"+(new Date).getTime()),s.attr("id",a)),o.attr("for",a),t.append(o),e||(n.insertBefore(t,s),t.append(s)),this.labelNode=o,this.wapperNode=t},bindUI:function(){this.node.on("valchange valuechange blur",function(){h.later(function(){this.check()},0,!1,this)},this),this.node.on("focus",function(){this._hide()},this)},getPos:function(e,t,i){var n=e.width(),s=parseInt(e.css("paddingLeft"),10)+2+"px",o=(i.innerHeight()-t.innerHeight())/2+"px",a={left:s,top:o,width:n};return h.mix(a,this.get("region"))},check:function(){return""===this.node.val()?void this._show():void this._hide()},_show:function(){var e=this.labelNode,t=this.getPos(this.node,e,this.wapperNode);e.show(),e.css({left:t.left,top:t.top,width:t.width}),e.html(this.node.attr("placeholder"))},_hide:function(){this.labelNode.hide()}}),e=t}(),i.exports=n});